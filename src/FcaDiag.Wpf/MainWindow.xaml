<Window x:Class="FcaDiag.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="StellaFlash - [Disconnected]"
        Height="800" Width="1400"
        MinHeight="700" MinWidth="1200"
        WindowStartupLocation="CenterScreen"
        Background="#FF0D1117">

    <Window.Resources>
        <!-- Orange accent color -->
        <Color x:Key="AccentColor">#FFFF6B00</Color>
        <Color x:Key="AccentLightColor">#FFFF8C33</Color>
        <Color x:Key="AccentDarkColor">#FFCC5500</Color>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource AccentColor}"/>
        <SolidColorBrush x:Key="AccentLightBrush" Color="{StaticResource AccentLightColor}"/>

        <!-- Orange Button Style -->
        <Style x:Key="OrangeButton" TargetType="Button">
            <Setter Property="Background" Value="#FFFF6B00"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="15,12"/>
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FFFF8C33"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FFCC5500"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#FF3A3A3A"/>
                                <Setter Property="Foreground" Value="#FF666666"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Teal/Cyan Button Style -->
        <Style x:Key="TealButton" TargetType="Button">
            <Setter Property="Background" Value="#FF00A5A5"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="15,12"/>
            <Setter Property="Margin" Value="0,5"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF00BFBF"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF008080"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#FF3A3A3A"/>
                                <Setter Property="Foreground" Value="#FF666666"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Sidebar Button Style -->
        <Style x:Key="SidebarButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FF8B949E"/>
            <Setter Property="FontWeight" Value="Normal"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="15,12"/>
            <Setter Property="Margin" Value="0,2"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}"
                                BorderThickness="3,0,0,0"
                                BorderBrush="Transparent">
                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#FF21262D"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#FF30363D"/>
                            </Trigger>
                            <Trigger Property="Tag" Value="Active">
                                <Setter TargetName="border" Property="BorderBrush" Value="#FFFF6B00"/>
                                <Setter Property="Background" Value="#FF21262D"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Panel Style -->
        <Style x:Key="DarkPanel" TargetType="Border">
            <Setter Property="Background" Value="#FF161B22"/>
            <Setter Property="BorderBrush" Value="#FF30363D"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="15"/>
        </Style>

        <!-- DataGrid Style -->
        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="#FF0D1117"/>
            <Setter Property="Foreground" Value="#FFC9D1D9"/>
            <Setter Property="BorderBrush" Value="#FF30363D"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="#FF0D1117"/>
            <Setter Property="AlternatingRowBackground" Value="#FF161B22"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#FF30363D"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
        </Style>

        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#FF21262D"/>
            <Setter Property="Foreground" Value="#FF8B949E"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderBrush" Value="#FF30363D"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <Style TargetType="DataGridCell">
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridCell">
                        <Border Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#FF21262D"/>
                    <Setter Property="Foreground" Value="White"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- ComboBox Toggle Button Template -->
        <ControlTemplate x:Key="ComboBoxToggleButton" TargetType="ToggleButton">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="20"/>
                </Grid.ColumnDefinitions>
                <Border x:Name="Border" Grid.ColumnSpan="2" Background="#FF21262D"
                        BorderBrush="#FF30363D" BorderThickness="1" CornerRadius="4"/>
                <Path x:Name="Arrow" Grid.Column="1" HorizontalAlignment="Center" VerticalAlignment="Center"
                      Data="M 0 0 L 4 4 L 8 0 Z" Fill="White"/>
            </Grid>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="Border" Property="Background" Value="#FF30363D"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <!-- ComboBox Style for Dark Theme -->
        <Style TargetType="ComboBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#FF21262D"/>
            <Setter Property="BorderBrush" Value="#FF30363D"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid>
                            <ToggleButton x:Name="ToggleButton" Template="{StaticResource ComboBoxToggleButton}"
                                          Focusable="False" ClickMode="Press"
                                          IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"/>
                            <ContentPresenter x:Name="ContentSite" IsHitTestVisible="False"
                                              Content="{TemplateBinding SelectionBoxItem}"
                                              ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                              ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                              Margin="10,6,25,6" VerticalAlignment="Center" HorizontalAlignment="Left">
                                <ContentPresenter.Resources>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="White"/>
                                    </Style>
                                </ContentPresenter.Resources>
                            </ContentPresenter>
                            <Popup x:Name="Popup" Placement="Bottom" IsOpen="{TemplateBinding IsDropDownOpen}"
                                   AllowsTransparency="True" Focusable="False" PopupAnimation="Slide">
                                <Grid x:Name="DropDown" SnapsToDevicePixels="True"
                                      MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                    <Border x:Name="DropDownBorder" Background="#FF21262D"
                                            BorderBrush="#FF30363D" BorderThickness="1" CornerRadius="4"/>
                                    <ScrollViewer Margin="4" SnapsToDevicePixels="True">
                                        <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained"/>
                                    </ScrollViewer>
                                </Grid>
                            </Popup>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ComboBoxItem">
            <Setter Property="Background" Value="#FF21262D"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border x:Name="Bd" Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}" BorderThickness="0" CornerRadius="2">
                            <ContentPresenter>
                                <ContentPresenter.Resources>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="White"/>
                                    </Style>
                                </ContentPresenter.Resources>
                            </ContentPresenter>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#FFFF6B00"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Bd" Property="Background" Value="#FF30363D"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Sidebar -->
        <Border Grid.Column="0" Background="#FF161B22" BorderBrush="#FF30363D" BorderThickness="0,0,1,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Logo/Title -->
                <StackPanel Grid.Row="0" Margin="10,15,10,10">
                    <Image Source="Assets/logo.png" Height="50" HorizontalAlignment="Left" Margin="0,0,0,5"/>
                    <TextBlock Text="FCA Module Programming" FontSize="10" Foreground="#FF8B949E" Margin="5,0,0,0"/>
                </StackPanel>

                <!-- Connection Panel -->
                <Border Grid.Row="1" Background="#FF21262D" CornerRadius="6" Margin="10,5" Padding="12">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal">
                            <Ellipse x:Name="statusIndicator" Width="10" Height="10" Fill="#FF666666" Margin="0,0,8,0"/>
                            <TextBlock x:Name="txtConnectionStatus" Text="Disconnected" Foreground="#FF8B949E" FontSize="12"/>
                        </StackPanel>
                        <TextBlock x:Name="txtDeviceName" Text="No device" Foreground="#FF666666" FontSize="11" Margin="18,4,0,0"/>
                        <Button x:Name="btnConnect" Content="Connect Pod" Style="{StaticResource OrangeButton}"
                                Margin="0,10,0,0" HorizontalContentAlignment="Center" Click="BtnConnect_Click"/>
                    </StackPanel>
                </Border>

                <!-- Navigation Menu (Scrollable) -->
                <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" Margin="0,10,0,0">
                    <StackPanel Margin="10,5,10,10">
                        <TextBlock Text="DIAGNOSTICS" FontSize="10" FontWeight="SemiBold" Foreground="#FF666666" Margin="5,0,0,8"/>
                        <Button x:Name="btnNavScan" Content="Scan Modules" Style="{StaticResource SidebarButton}"
                                Tag="Active" Click="BtnScanModules_Click"/>
                        <Button x:Name="btnNavTopology" Content="Network Topology" Style="{StaticResource SidebarButton}"
                                Click="BtnTopology_Click"/>
                        <Button x:Name="btnNavModuleId" Content="Module Identification" Style="{StaticResource SidebarButton}"
                                Click="BtnModuleId_Click"/>
                        <Button x:Name="btnNavDtc" Content="Read DTCs" Style="{StaticResource SidebarButton}"
                                Click="BtnReadDtc_Click"/>
                        <Button x:Name="btnNavClearDtc" Content="Clear DTCs" Style="{StaticResource SidebarButton}"
                                Click="BtnClearDtc_Click"/>

                        <TextBlock Text="VIN EDITOR" FontSize="10" FontWeight="SemiBold" Foreground="#FF666666" Margin="5,20,0,8"/>
                        <Button x:Name="btnNavReadVin" Content="Read VIN" Style="{StaticResource SidebarButton}"
                                Click="BtnReadVin_Click"/>
                        <Button x:Name="btnNavClearVin" Content="Clear VIN" Style="{StaticResource SidebarButton}"
                                Click="BtnClearVin_Click"/>
                        <Button x:Name="btnNavWriteVin" Content="Write VIN" Style="{StaticResource SidebarButton}"
                                Click="BtnWriteVin_Click"/>

                        <TextBlock Text="MODULE FLASHING" FontSize="10" FontWeight="SemiBold" Foreground="#FF666666" Margin="5,20,0,8"/>
                        <Button x:Name="btnNavLoadEfd" Content="Load EFD File" Style="{StaticResource SidebarButton}"
                                Click="BtnLoadEfd_Click"/>
                        <Button x:Name="btnNavFlashEfd" Content="Flash to ECU" Style="{StaticResource SidebarButton}"
                                Click="BtnFlashEfd_Click"/>
                        <Button x:Name="btnNavSaveEfd" Content="Save ECU to EFD" Style="{StaticResource SidebarButton}"
                                Click="BtnSaveEfd_Click"/>

                        <TextBlock Text="MODULE CLONING" FontSize="10" FontWeight="SemiBold" Foreground="#FF666666" Margin="5,20,0,8"/>
                        <Button x:Name="btnNavReadEprom" Content="Read EPROM" Style="{StaticResource SidebarButton}"
                                Click="BtnReadEprom_Click"/>
                        <Button x:Name="btnNavWriteEprom" Content="Write EPROM" Style="{StaticResource SidebarButton}"
                                Click="BtnWriteEprom_Click"/>
                        <Button x:Name="btnNavSwapHw" Content="Swap Hardware" Style="{StaticResource SidebarButton}"
                                Click="BtnSwapHw_Click"/>

                        <TextBlock Text="REPORTS" FontSize="10" FontWeight="SemiBold" Foreground="#FF666666" Margin="5,20,0,8"/>
                        <Button x:Name="btnNavPrintDtc" Content="Print DTC Report" Style="{StaticResource SidebarButton}"
                                Click="BtnPrintDtc_Click"/>
                        <Button x:Name="btnNavModuleReport" Content="Module Info Report" Style="{StaticResource SidebarButton}"
                                Click="BtnModuleInfoReport_Click"/>
                    </StackPanel>
                </ScrollViewer>

                <!-- Version Info -->
                <StackPanel Grid.Row="3" Margin="15,10,15,15">
                    <TextBlock Text="Version 1.0.0" FontSize="10" Foreground="#FF666666"/>
                    <TextBlock Text="Spot On Auto Diagnostics" FontSize="10" Foreground="#FF666666"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="180"/>
            </Grid.RowDefinitions>

            <!-- Header Bar -->
            <Border Grid.Row="0" Background="#FF161B22" Padding="15,10">
                <Grid>
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="#FFFF5F56" Margin="0,0,5,0"/>
                        <Ellipse Width="12" Height="12" Fill="#FFFFBD2E" Margin="0,0,5,0"/>
                        <Ellipse Width="12" Height="12" Fill="#FF27C93F"/>
                    </StackPanel>
                    <TextBlock x:Name="txtTitle" Text="StellaFlash v1.0 - [Disconnected]"
                               Foreground="White" FontSize="13" HorizontalAlignment="Center"/>
                </Grid>
            </Border>

            <!-- Main Content Split -->
            <Grid Grid.Row="1" Margin="10,5,10,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="400"/>
                </Grid.ColumnDefinitions>

                <!-- Terminal/Log Area -->
                <Border Grid.Column="0" Style="{StaticResource DarkPanel}" Margin="0,0,5,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <TextBlock Text="TERMINAL OUTPUT" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>
                        <ScrollViewer Grid.Row="1" x:Name="scrollLog" VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="txtTerminal"
                                       FontFamily="Consolas"
                                       FontSize="12"
                                       Foreground="#FF00FFAA"
                                       TextWrapping="Wrap"
                                       Text="> System Ready...&#x0a;> Waiting for vehicle connection..."/>
                        </ScrollViewer>
                    </Grid>
                </Border>

                <!-- Right Panel with Tabs -->
                <Border Grid.Column="1" Style="{StaticResource DarkPanel}" Margin="5,0,0,0">
                    <TabControl x:Name="tabRight" Background="Transparent" BorderThickness="0">
                        <TabControl.Resources>
                            <Style TargetType="TabItem">
                                <Setter Property="Background" Value="#FF21262D"/>
                                <Setter Property="Foreground" Value="#FF8B949E"/>
                                <Setter Property="Padding" Value="15,8"/>
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="TabItem">
                                            <Border x:Name="border" Background="{TemplateBinding Background}"
                                                    Padding="{TemplateBinding Padding}"
                                                    CornerRadius="4,4,0,0" Margin="0,0,2,0">
                                                <ContentPresenter ContentSource="Header"/>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter TargetName="border" Property="Background" Value="#FFFF6B00"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                </Trigger>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter TargetName="border" Property="Background" Value="#FF30363D"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </TabControl.Resources>

                        <!-- DTC Tab -->
                        <TabItem Header="DTCs">
                            <Grid Margin="0,10,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                                    <TextBlock Text="DIAGNOSTIC TROUBLE CODES" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold"/>
                                    <TextBlock x:Name="txtDtcCount" Text=" (0)" Foreground="#FF666666" FontSize="11"/>
                                </StackPanel>

                                <DataGrid Grid.Row="1" x:Name="dgDtcList"
                                          AutoGenerateColumns="False"
                                          IsReadOnly="True"
                                          CanUserAddRows="False"
                                          CanUserDeleteRows="False"
                                          CanUserReorderColumns="False">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Code" Binding="{Binding DisplayCode}" Width="70"/>
                                        <DataGridTextColumn Header="Status" Binding="{Binding StatusText}" Width="70"/>
                                        <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="*"/>
                                    </DataGrid.Columns>
                                </DataGrid>

                                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                    <Button Content="Clear All" Style="{StaticResource TealButton}"
                                            Padding="15,8" Click="BtnClearDtc_Click"/>
                                    <Button Content="Print Report" Style="{StaticResource OrangeButton}"
                                            Padding="15,8" Margin="10,0,0,0" Click="BtnPrintDtc_Click"/>
                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <!-- Topology Tab -->
                        <TabItem Header="Topology">
                            <Grid Margin="0,10,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="MODULE NETWORK TOPOLOGY" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>

                                <!-- Module Reboot Control -->
                                <Border Grid.Row="1" Background="#FF0D1117" CornerRadius="4" Padding="12" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Reboot Module:" Foreground="#FF8B949E" FontSize="11" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                        <ComboBox x:Name="cboRebootModule" Grid.Column="1"
                                                  Background="#FF21262D" Foreground="White"
                                                  FontSize="12" Padding="8,6"/>
                                        <ComboBox x:Name="cboResetType" Grid.Column="2"
                                                  Background="#FF21262D" Foreground="White"
                                                  FontSize="12" Padding="8,6" Width="120" Margin="10,0,0,0">
                                            <ComboBoxItem Content="Hard Reset" IsSelected="True"/>
                                            <ComboBoxItem Content="Key Off/On"/>
                                            <ComboBoxItem Content="Soft Reset"/>
                                        </ComboBox>
                                        <Button Grid.Column="3" Content="Reboot" Style="{StaticResource OrangeButton}"
                                                Padding="15,6" Margin="10,0,0,0" Click="BtnRebootModule_Click"/>
                                    </Grid>
                                </Border>

                                <!-- Network Legend -->
                                <Border Grid.Row="2" Background="#FF0D1117" CornerRadius="4" Padding="10" Margin="0,0,0,10">
                                    <StackPanel Orientation="Horizontal">
                                        <StackPanel Orientation="Horizontal" Margin="0,0,20,0">
                                            <Ellipse Width="12" Height="12" Fill="#FFFF6B00" Margin="0,0,5,0"/>
                                            <TextBlock Text="CAN-C (Powertrain)" Foreground="#FF8B949E" FontSize="10"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,20,0">
                                            <Ellipse Width="12" Height="12" Fill="#FF00A5A5" Margin="0,0,5,0"/>
                                            <TextBlock Text="CAN-IHS (Interior)" Foreground="#FF8B949E" FontSize="10"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,20,0">
                                            <Ellipse Width="12" Height="12" Fill="#FF9B59B6" Margin="0,0,5,0"/>
                                            <TextBlock Text="CAN-B (Body)" Foreground="#FF8B949E" FontSize="10"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal">
                                            <Ellipse Width="12" Height="12" Fill="#FF27C93F" Margin="0,0,5,0"/>
                                            <TextBlock Text="Online" Foreground="#FF8B949E" FontSize="10"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Network Topology Display -->
                                <ScrollViewer Grid.Row="3" VerticalScrollBarVisibility="Auto">
                                    <StackPanel x:Name="pnlTopology" Margin="0,0,0,10">
                                        <!-- CAN-C Network -->
                                        <Border Background="#FF1A1A1A" CornerRadius="6" Padding="12" Margin="0,0,0,10">
                                            <StackPanel>
                                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                    <Border Background="#FFFF6B00" CornerRadius="3" Padding="8,4">
                                                        <TextBlock Text="CAN-C" Foreground="White" FontWeight="Bold" FontSize="11"/>
                                                    </Border>
                                                    <TextBlock Text="High-Speed Powertrain Network (500 kbps)" Foreground="#FF666666" FontSize="10" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                </StackPanel>
                                                <Border Background="#FF0D1117" CornerRadius="4" Padding="2" Height="4" Margin="0,0,0,8"/>
                                                <WrapPanel x:Name="pnlCanC">
                                                    <!-- Modules populated dynamically -->
                                                </WrapPanel>
                                            </StackPanel>
                                        </Border>

                                        <!-- CAN-IHS Network -->
                                        <Border Background="#FF1A1A1A" CornerRadius="6" Padding="12" Margin="0,0,0,10">
                                            <StackPanel>
                                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                    <Border Background="#FF00A5A5" CornerRadius="3" Padding="8,4">
                                                        <TextBlock Text="CAN-IHS" Foreground="White" FontWeight="Bold" FontSize="11"/>
                                                    </Border>
                                                    <TextBlock Text="Interior High-Speed Network (500 kbps)" Foreground="#FF666666" FontSize="10" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                </StackPanel>
                                                <Border Background="#FF0D1117" CornerRadius="4" Padding="2" Height="4" Margin="0,0,0,8"/>
                                                <WrapPanel x:Name="pnlCanIhs">
                                                    <!-- Modules populated dynamically -->
                                                </WrapPanel>
                                            </StackPanel>
                                        </Border>

                                        <!-- CAN-B Network -->
                                        <Border Background="#FF1A1A1A" CornerRadius="6" Padding="12" Margin="0,0,0,10">
                                            <StackPanel>
                                                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                                    <Border Background="#FF9B59B6" CornerRadius="3" Padding="8,4">
                                                        <TextBlock Text="CAN-B" Foreground="White" FontWeight="Bold" FontSize="11"/>
                                                    </Border>
                                                    <TextBlock Text="Body/Comfort Network (125 kbps)" Foreground="#FF666666" FontSize="10" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                                </StackPanel>
                                                <Border Background="#FF0D1117" CornerRadius="4" Padding="2" Height="4" Margin="0,0,0,8"/>
                                                <WrapPanel x:Name="pnlCanB">
                                                    <!-- Modules populated dynamically -->
                                                </WrapPanel>
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </ScrollViewer>
                            </Grid>
                        </TabItem>

                        <!-- Module ID Tab -->
                        <TabItem Header="Module ID">
                            <Grid Margin="0,10,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="EXTENDED MODULE IDENTIFICATION" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>

                                <!-- Module Selector -->
                                <Border Grid.Row="1" Background="#FF0D1117" CornerRadius="4" Padding="12" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Text="Select Module:" Foreground="#FF8B949E" FontSize="11" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                        <ComboBox x:Name="cboModuleSelect" Grid.Column="1"
                                                  Background="#FF21262D" Foreground="White"
                                                  FontSize="12" Padding="8,6"/>
                                        <Button Grid.Column="2" Content="Read Info" Style="{StaticResource OrangeButton}"
                                                Padding="15,6" Margin="10,0,0,0" Click="BtnReadModuleInfo_Click"/>
                                    </Grid>
                                </Border>

                                <!-- Module Info Display -->
                                <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto">
                                    <DataGrid x:Name="dgModuleInfo"
                                              AutoGenerateColumns="False"
                                              IsReadOnly="True"
                                              CanUserAddRows="False"
                                              CanUserDeleteRows="False"
                                              CanUserReorderColumns="False"
                                              HeadersVisibility="None"
                                              GridLinesVisibility="Horizontal">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn Header="Property" Binding="{Binding Property}" Width="140">
                                                <DataGridTextColumn.ElementStyle>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="Foreground" Value="#FF8B949E"/>
                                                        <Setter Property="FontWeight" Value="SemiBold"/>
                                                    </Style>
                                                </DataGridTextColumn.ElementStyle>
                                            </DataGridTextColumn>
                                            <DataGridTextColumn Header="Value" Binding="{Binding Value}" Width="*">
                                                <DataGridTextColumn.ElementStyle>
                                                    <Style TargetType="TextBlock">
                                                        <Setter Property="FontFamily" Value="Consolas"/>
                                                        <Setter Property="Foreground" Value="#FF00FFAA"/>
                                                    </Style>
                                                </DataGridTextColumn.ElementStyle>
                                            </DataGridTextColumn>
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </ScrollViewer>

                                <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                    <Button Content="Read All Modules" Style="{StaticResource TealButton}"
                                            Padding="15,8" Click="BtnReadAllModuleInfo_Click"/>
                                    <Button Content="Export Report" Style="{StaticResource OrangeButton}"
                                            Padding="15,8" Margin="10,0,0,0" Click="BtnExportModuleReport_Click"/>
                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <!-- VIN Tab -->
                        <TabItem Header="VIN Editor">
                            <Grid Margin="0,10,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="VEHICLE IDENTIFICATION NUMBER" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>

                                <!-- VIN Input Panel -->
                                <Border Grid.Row="1" Background="#FF0D1117" CornerRadius="4" Padding="12" Margin="0,0,0,10">
                                    <StackPanel>
                                        <TextBlock Text="New VIN (17 characters):" Foreground="#FF8B949E" FontSize="11" Margin="0,0,0,5"/>
                                        <TextBox x:Name="txtVinInput"
                                                 FontFamily="Consolas"
                                                 FontSize="16"
                                                 FontWeight="Bold"
                                                 MaxLength="17"
                                                 CharacterCasing="Upper"
                                                 Background="#FF21262D"
                                                 Foreground="#FF00FFAA"
                                                 BorderBrush="#FF30363D"
                                                 Padding="10,8"
                                                 TextChanged="TxtVinInput_TextChanged"/>
                                        <TextBlock x:Name="txtVinCharCount" Text="0/17 characters" Foreground="#FF666666" FontSize="10" Margin="0,5,0,0"/>
                                    </StackPanel>
                                </Border>

                                <!-- Module Selection Controls -->
                                <Border Grid.Row="2" Background="#FF0D1117" CornerRadius="4" Padding="8" Margin="0,0,0,5">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="Select Modules:" Foreground="#FF8B949E" FontSize="11" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                        <Button Content="All" Style="{StaticResource SidebarButton}" Padding="10,4" Click="BtnSelectAllModules_Click"/>
                                        <Button Content="None" Style="{StaticResource SidebarButton}" Padding="10,4" Margin="5,0,0,0" Click="BtnDeselectAllModules_Click"/>
                                        <TextBlock x:Name="txtSelectedCount" Text="0 selected" Foreground="#FF666666" FontSize="11" VerticalAlignment="Center" Margin="15,0,0,0"/>
                                    </StackPanel>
                                </Border>

                                <!-- Module VIN List -->
                                <DataGrid Grid.Row="3" x:Name="dgVinList"
                                          AutoGenerateColumns="False"
                                          CanUserAddRows="False"
                                          CanUserDeleteRows="False"
                                          CanUserReorderColumns="False"
                                          SelectionMode="Single"
                                          SelectionUnit="FullRow">
                                    <DataGrid.Columns>
                                        <DataGridCheckBoxColumn Header="" Binding="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}" Width="30">
                                            <DataGridCheckBoxColumn.ElementStyle>
                                                <Style TargetType="CheckBox">
                                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                                </Style>
                                            </DataGridCheckBoxColumn.ElementStyle>
                                            <DataGridCheckBoxColumn.EditingElementStyle>
                                                <Style TargetType="CheckBox">
                                                    <Setter Property="HorizontalAlignment" Value="Center"/>
                                                    <Setter Property="VerticalAlignment" Value="Center"/>
                                                </Style>
                                            </DataGridCheckBoxColumn.EditingElementStyle>
                                        </DataGridCheckBoxColumn>
                                        <DataGridTextColumn Header="Module" Binding="{Binding ModuleName}" Width="100" IsReadOnly="True"/>
                                        <DataGridTextColumn Header="Current VIN" Binding="{Binding CurrentVin}" Width="*" IsReadOnly="True">
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="FontFamily" Value="Consolas"/>
                                                    <Setter Property="Foreground" Value="#FF00FFAA"/>
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                        </DataGridTextColumn>
                                        <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="80" IsReadOnly="True"/>
                                    </DataGrid.Columns>
                                </DataGrid>

                                <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                    <Button Content="Read All" Style="{StaticResource TealButton}"
                                            Padding="15,8" Click="BtnReadVin_Click"/>
                                    <Button Content="Clear Selected" Style="{StaticResource SidebarButton}"
                                            Padding="15,8" Margin="10,0,0,0" Click="BtnClearVin_Click"/>
                                    <Button x:Name="btnWriteVin" Content="Write to Selected" Style="{StaticResource OrangeButton}"
                                            Padding="15,8" Margin="10,0,0,0" Click="BtnWriteVin_Click"/>
                                </StackPanel>
                            </Grid>
                        </TabItem>

                        <!-- EFD Tab -->
                        <TabItem Header="EFD File">
                            <Grid Margin="0,10,0,0">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="EFD FILE INFORMATION" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold" Margin="0,0,0,10"/>

                                <!-- EFD Info Panel -->
                                <Border Grid.Row="1" Background="#FF0D1117" CornerRadius="4" Padding="12" Margin="0,0,0,10">
                                    <Grid>
                                        <Grid x:Name="gridEfdInfo" Visibility="Collapsed">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="100"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Text="File:" Foreground="#FF666666" Grid.Row="0"/>
                                            <TextBlock x:Name="txtEfdFileName" Text="-" Foreground="#FF00FFAA" Grid.Row="0" Grid.Column="1" FontFamily="Consolas"/>

                                            <TextBlock Text="Part #:" Foreground="#FF666666" Grid.Row="1" Margin="0,5,0,0"/>
                                            <TextBlock x:Name="txtEfdPartNumber" Text="-" Foreground="White" Grid.Row="1" Grid.Column="1" Margin="0,5,0,0" FontWeight="SemiBold"/>

                                            <TextBlock Text="Model Year:" Foreground="#FF666666" Grid.Row="2" Margin="0,5,0,0"/>
                                            <TextBlock x:Name="txtEfdModelYear" Text="-" Foreground="White" Grid.Row="2" Grid.Column="1" Margin="0,5,0,0"/>

                                            <TextBlock Text="Engine:" Foreground="#FF666666" Grid.Row="3" Margin="0,5,0,0"/>
                                            <TextBlock x:Name="txtEfdEngine" Text="-" Foreground="White" Grid.Row="3" Grid.Column="1" Margin="0,5,0,0"/>

                                            <TextBlock Text="Trans:" Foreground="#FF666666" Grid.Row="4" Margin="0,5,0,0"/>
                                            <TextBlock x:Name="txtEfdTrans" Text="-" Foreground="White" Grid.Row="4" Grid.Column="1" Margin="0,5,0,0"/>

                                            <TextBlock Text="Program:" Foreground="#FF666666" Grid.Row="5" Margin="0,5,0,0"/>
                                            <TextBlock x:Name="txtEfdProgram" Text="-" Foreground="#FFFF6B00" Grid.Row="5" Grid.Column="1" Margin="0,5,0,0" FontWeight="SemiBold"/>

                                            <TextBlock Text="Version:" Foreground="#FF666666" Grid.Row="6" Margin="0,5,0,0"/>
                                            <TextBlock x:Name="txtEfdVersion" Text="-" Foreground="White" Grid.Row="6" Grid.Column="1" Margin="0,5,0,0" TextWrapping="Wrap"/>

                                            <TextBlock Text="Size:" Foreground="#FF666666" Grid.Row="7" Margin="0,5,0,0"/>
                                            <TextBlock x:Name="txtEfdSize" Text="-" Foreground="#FF00A5A5" Grid.Row="7" Grid.Column="1" Margin="0,5,0,0"/>
                                        </Grid>
                                        <TextBlock x:Name="txtEfdNoFile" Text="No EFD file loaded.&#x0a;&#x0a;Click 'Load EFD File' to open a calibration file."
                                                   Foreground="#FF666666" TextAlignment="Center" VerticalAlignment="Center" TextWrapping="Wrap"/>
                                    </Grid>
                                </Border>

                                <!-- Metadata List -->
                                <DataGrid Grid.Row="2" x:Name="dgEfdMetadata"
                                          AutoGenerateColumns="False"
                                          IsReadOnly="True"
                                          CanUserAddRows="False"
                                          CanUserDeleteRows="False"
                                          CanUserReorderColumns="False">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Property" Binding="{Binding Key}" Width="120"/>
                                        <DataGridTextColumn Header="Value" Binding="{Binding Value}" Width="*"/>
                                    </DataGrid.Columns>
                                </DataGrid>

                                <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                                    <Button Content="Load File" Style="{StaticResource TealButton}"
                                            Padding="15,8" Click="BtnLoadEfd_Click"/>
                                    <Button x:Name="btnFlashEfd" Content="Flash to ECU" Style="{StaticResource OrangeButton}"
                                            Padding="15,8" Margin="10,0,0,0" IsEnabled="False" Click="BtnFlashEfd_Click"/>
                                </StackPanel>
                            </Grid>
                        </TabItem>
                    </TabControl>
                </Border>
            </Grid>

            <!-- Bottom Panels -->
            <Grid Grid.Row="2" Margin="10,5,10,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Battery Voltage Monitor -->
                <Border Grid.Column="0" Style="{StaticResource DarkPanel}" Margin="0,0,5,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="BATTERY VOLTAGE MONITOR" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold"/>
                            <TextBlock x:Name="txtVoltage" Text=" - --.- V" Foreground="#FF00A5A5" FontSize="11" FontWeight="SemiBold"/>
                        </StackPanel>

                        <Grid Grid.Row="1" Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="35"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Y-Axis Labels -->
                            <StackPanel VerticalAlignment="Stretch">
                                <TextBlock Text="15.0" Foreground="#FF666666" FontSize="9"/>
                                <TextBlock Text="14.5" Foreground="#FF666666" FontSize="9" Margin="0,18,0,0"/>
                                <TextBlock Text="14.0" Foreground="#FF666666" FontSize="9" Margin="0,18,0,0"/>
                                <TextBlock Text="13.5" Foreground="#FF666666" FontSize="9" Margin="0,18,0,0"/>
                            </StackPanel>

                            <!-- Voltage Graph Area -->
                            <Border Grid.Column="1" BorderBrush="#FF30363D" BorderThickness="1" Background="#FF0D1117">
                                <Canvas x:Name="canvasVoltage" ClipToBounds="True"/>
                            </Border>
                        </Grid>
                    </Grid>
                </Border>

                <!-- EPROM Memory Buffer -->
                <Border Grid.Column="1" Style="{StaticResource DarkPanel}" Margin="5,0,0,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="EPROM MEMORY BUFFER" Foreground="#FF8B949E" FontSize="11" FontWeight="SemiBold"/>

                        <!-- Legend -->
                        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,8,0,8">
                            <Rectangle Width="16" Height="10" Fill="#FF00A5A5" Margin="0,0,5,0"/>
                            <TextBlock Text="Source" Foreground="#FF8B949E" FontSize="10" Margin="0,0,15,0"/>
                            <Rectangle Width="16" Height="10" Fill="#FF00FF88" Margin="0,0,5,0"/>
                            <TextBlock Text="Written" Foreground="#FF8B949E" FontSize="10"/>
                        </StackPanel>

                        <!-- Memory Buffer Bars -->
                        <Border Grid.Row="2" BorderBrush="#FF30363D" BorderThickness="1" Background="#FF0D1117">
                            <Canvas x:Name="canvasMemory" ClipToBounds="True"/>
                        </Border>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</Window>
